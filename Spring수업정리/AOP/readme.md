# 관점 지향 프로그래밍(Aspect Oriented Programming, AOP)

![sts-mvc-aop-14-s1](sts-mvc-aop-14-s1.png)

**AOP는 관점 지향 프로그래밍으로 어떤 로직을 기준으로 핵심적인 관점, 부가적인 관점으로 나누어서 보고 그 관점을 기준으로 각각 모듈화하는 것이다.**

• OOP를 보완하는 수단

- 기존 OOP에서 기능 별로 클래스를 분리했음에도, 여전히 공통적으로 반복되는 코드가 발생하는 단점 해결

- 공통 기능과 핵심 기능 구현 분리하는 것이 핵심

- 개발 코드에서 비즈니스 로직에 집중하도록 함



### [AOP 용어]

1. 타겟(Target)

• 부가기능을 부여할 대상을 얘기



2. 애스펙트(Aspect)

• 객체지향 모듈을 오브젝트라 부르는 것과 비슷하게 부가기능 모듈을 애스펙트라고 부르며, 핵심기능에 부가되어 의미를 갖는 특별한 모듈

• 부가될 기능을 정의한 어드바이스(Advice)와 어드바이스를 어디에 적용할지를 결정하는 포인트컷(PointCut)을 갖고 있음



3. 어드바이스 (Advice)

• 실질적으로 부가기능을 담은 구현체

• 타겟 오브젝트에 종속되지 않기 때문에 순수하	게 부가기능에만 집중할 수 있다.

•  어드바이스는 애스펙트(Aspect)가 '무엇'을 '언	제'할지를 정의한다.



4. 포인트컷 ( PointCut )

• 부가기능이 적용될 대상(메소드)를 선정하는 방법

•  즉, 어드바이스를 적용할 조인포인트(JoinPoint)를 선별하는 기능을 정의한 모듈



5. 조인포인트 ( JoinPoint )

• 어드바이스(Advice)가 적용될 수 있는 위치

• 다른 AOP 프레임워크와 달리 Spring 에서는 메소드 조인포인트(JoinPoint)만 제공

•  따라서, 스프링에서는 조인포인트(JoinPoint)라하면 메소드라 생각해도 무방



6. 프록시 ( Proxy)

•  타겟을 감싸서 타겟의 요청을 대신 받아주는 랩핑(Wrapping) 오브젝트

• 호출자(Client)에서 타겟을 호출하게 되면 타겟이 아닌 타겟을 감싸고 있는 프록시가 호출되어,

• 타겟 메소드 실행 전에 선처리, 타겟 메소드 실행 후, 후처리를 실행시키도록 구성



7. 인트로덕션 ( Introduction )

• 타겟 클래스에 코드 변경 없이 신규 메소드나 멤버변수를 추가하는 기능



8. 위빙 ( Weaving )

• 지정된 객체에 애스펙트(Aspect)를 적용해서 새로운 프록시 객체를 생성하는 과정

​	예를들어, A라는 객체에 트랜잭션 애스펙트가 지저오디어 있다면, 

​	A라는 객체가 실행되기 전 커넥션을 오픈하고 실행이 끝나면 커넥션을 종료하는 기능이 추가된 프록시 객체가 생성되고, 

​	이 프록시 객체가 앞으로 A 객체가 호출되는 시점에서 사용, 이 때의 프록시 객체가 생성되는 과정을 위빙이라고 한다.

• 컴파일 타임, 클래스로드 타임, 런타임과 같은 시점에서 실행되지만, Spring AOP는 런타임에서 프록시 객체가 생성

